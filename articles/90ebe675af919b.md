---
title: "ã€SwiftUIã€‘ãƒ¢ãƒ€ãƒ³ã§ã‚·ãƒ³ãƒ—ãƒ«ãªToastãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ŒSimpleToastã€ã‚’è©¦ã™"
emoji: "ğŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:
  - "iOS"
  - "swift"
  - "swiftui"
  - "toast"
  - "spm"
published: true
---
# SimpleToast
ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§æŸ”è»Ÿãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒé­…åŠ›ã®SwiftUIã§æ›¸ã‹ã‚ŒãŸã€ãƒ¢ãƒ€ãƒ³ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ŒSimpleToastã€ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸï¼

https://github.com/sanzaru/SimpleToast

> SimpleToast ã¯ SwiftUI ã® iOS ã‚„ MacOS ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­ã§ãƒˆãƒ¼ã‚¹ãƒˆ/ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—é€šçŸ¥ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã€ã‚·ãƒ³ãƒ—ãƒ«ã§è»½é‡ã€æŸ”è»Ÿã§ä½¿ã„ã‚„ã™ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ ã©ã‚“ãªå†…å®¹ã§ã‚‚è¡¨ç¤ºã§ãã‚‹æŸ”è»Ÿæ€§ãŒã‚ã‚‹ã®ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

æ‰±ã„ã‚„ã™ãã†ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ãŒã€ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã¾ã é–‹ç™ºä¸­ã¿ãŸã„ã§ `1.0` ã¾ã§ã«Breaking changesãŒå…¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- **è‡ªç”±ãªå†…å®¹ã‚’è¡¨ç¤º**
    ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥å†…ã«ã€å¥½ããªå†…å®¹ã‚’è‡ªç”±ã«è¡¨ç¤ºã§ãã‚‹

- **è¡¨ç¤ºä½ç½®ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
    ãƒˆãƒ¼ã‚¹ãƒˆã‚’ç”»é¢å†…ã®å¥½ããªå ´æ‰€ã«é…ç½®å¯èƒ½

- **æ¶ˆãˆã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¨­å®š**
    ãƒˆãƒ¼ã‚¹ãƒˆãŒè‡ªå‹•ã§æ¶ˆãˆã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è‡ªç”±ã«è¨­å®šã§ãã€æ¶ˆã•ãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½

- **æ¶ˆãˆãŸå¾Œã®å‡¦ç†ã‚‚è¨­å®šå¯èƒ½**
    ãƒˆãƒ¼ã‚¹ãƒˆãŒæ¶ˆãˆãŸéš›ã«å®Ÿè¡Œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¨­å®šã§ãã‚‹

- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**
    è¡¨ç¤ºã‚„æ¶ˆãˆã‚‹éš›ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰é¸ã¹ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚‚å¯èƒ½

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æ—©é€Ÿã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ **`Swift Package Manager`** ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚

```swift
let package = Package(
    platforms: [
            .iOS(.v13),
        ],
    // ...
    dependencies: [
        .package(url: "https://github.com/sanzaru/SimpleToast.git", from: "0.10.1")
    ],
    // ...
    targets: [
        .target(
            // ...
            dependencies: [
                .product(name: "SimpleToast", package: "SimpleToast")
            ]
        ),
        // ...
    ]
```

## ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…

ã¾ãšã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ç”»é¢é–‹ã„ãŸã‚‰toastãŒè¡¨ç¤ºã•ã‚Œã‚‹ã ã‘ã®ç”»é¢ã‚’ä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

`ToastTestView` ã‚’ä»¥ä¸‹å†…å®¹ã§ä½œæˆã—ã¾ã™ã€‚

```swift
import SimpleToast
import SwiftUI

struct ToastTestView: View {
    @State private var showToast = true

    private let toastOptions = SimpleToastOptions()
    var body: some View {
        VStack {
            Text("Hello SimpleToast")
        }
        .simpleToast(isPresented: $showToast, options: toastOptions) {
            Text("Toast message")
        }
    }
}

#Preview {
    ToastTestView()
}
```

Previewã‚’è¦‹ã¦ã¿ã‚‹ã¨ä¸Šéƒ¨ã«ToastãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨æ¶ˆãˆã¾ã™ã€‚

![image1.gif](/images/90ebe675af919b/image1.gif =300x)

## âšªï¸ç§’å¾Œã«æ¶ˆãˆã‚‹æ§˜ã«ã™ã‚‹

æ¬¡ã«ä½•ç§’ã‹çµŒã£ãŸã‚‰Toastè¡¨ç¤ºãŒæ¶ˆãˆã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

å…ˆã»ã©ã®å®Ÿè£…ã® `SimpleToastOptions` ã‚’ä»¥ä¸‹ã«ä¿®æ­£ã—ã¾ã™ã€‚

```swift
    private let toastOptions = SimpleToastOptions(
        hideAfter: 3 // è¿½åŠ 
    )
```

3ç§’å¾Œã«è¡¨ç¤ºãŒæ¶ˆãˆã‚‹æ§˜ã«è¨­å®šã—ã¦ã¿ã¾ã—ãŸã€‚Previewã‚’ç¢ºèªã™ã‚‹ã¨3ç§’å¾Œã«æ¶ˆãˆã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

![image2.gif](/images/90ebe675af919b/image2.gif =300x)

## ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰Toastè¡¨ç¤º

æ¬¡ã«ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰Toastè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¦ã¿ã¾ã™ã€‚

```swift
struct ToastTestView: View {
    @State private var showToast = false

    private let toastOptions = SimpleToastOptions(
        hideAfter: 3
    )
    var body: some View {
        VStack {
            Button("Show toast") {
                withAnimation {
                    showToast.toggle()
                }
            }
        }
        .simpleToast(isPresented: $showToast, options: toastOptions) {
            Text("Toast message")
        }
    }
}
```

Previewã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã¡ã‚ƒã‚“ã¨ãƒœã‚¿ãƒ³æŠ¼ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã¾ãŸ `hideAfter` ã§æ¶ˆãˆãŸå¾Œã‚‚å†åº¦ãƒœã‚¿ãƒ³æŠ¼ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚`hideAfter` ã•ã‚Œã‚‹ã¨SimpleToastå†…ã§ `showToast` ã‚’ `false` ã«è¨­å®šã—ã¦ãã‚Œã¦ã„ã‚‹äº‹ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

![image3.gif](/images/90ebe675af919b/image3.gif =300x)

## è¦‹ãŸç›®ã‚’ãã‚Œã£ã½ã

æ¬¡ã«å‘³æ°—ãªã„Toastã ã£ãŸã®ã‚’ã£ã½ã„è¦‹ãŸç›®ã«å¤‰ãˆã¦ã¿ã¾ã™ã€‚ `simpleToast` éƒ¨åˆ†ã‚’ä»¥ä¸‹ã«ä¿®æ­£ã—ã¾ã™ã€‚

```swift
        .simpleToast(isPresented: $showToast, options: toastOptions) {
            Label("This is some simple toast message.", systemImage: "info.circle")
            .padding()
            .background(Color.blue.opacity(0.8))
            .foregroundColor(Color.white)
            .cornerRadius(10)
            .padding(.top)
        }
```

Previewç¢ºèªã™ã‚‹ã¨ã£ã½ããªã£ã¦ã„ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚

![image4.gif](/images/90ebe675af919b/image4.gif =300x)

## ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´

`ModifierType` ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚ `SimpleToastOptions` ã® `modifierType` ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ä»¥ä¸‹ã®æ§˜ã«å¤‰æ›´ãŒå¯èƒ½ã§ã™ã€‚â€» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `fade`

- Slide

```swift
    private let toastOptions = SimpleToastOptions(
        modifierType: .slide
    )
```

![image5.gif](/images/90ebe675af919b/image5.gif =300x)

- Scale

```swift
    private let toastOptions = SimpleToastOptions(
        modifierType: .scale
    )
```

![image6.gif](/images/90ebe675af919b/image6.gif =300x)

- Skew

```swift
    private let toastOptions = SimpleToastOptions(
        modifierType: .skew
    )
```

![image7.gif](/images/90ebe675af919b/image7.gif =300x)

## è¡¨ç¤ºä½ç½®ã‚’å¤‰æ›´

`alignment` ã§å¤‰æ›´ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚æŒ‡å®šã§ãã‚‹å€¤ã¯ğŸ‘‡ã‚’å‚è€ƒã«ã—ã¦ä¸‹ã•ã„ã€‚

https://developer.apple.com/documentation/swiftui/alignment

|æŒ‡å®šã—ãŸalignment|Previewè¡¨ç¤º|
|-----|-----|
|top (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)|![image8.gif](/images/90ebe675af919b/image8.gif =200x)|
|topLeading|![image9.gif](/images/90ebe675af919b/image9.gif =200x)|
|topTrailing|![image10.gif](/images/90ebe675af919b/image10.gif =200x)|
|bottom|![image11.gif](/images/90ebe675af919b/image11.gif =200x)|
|bottomLeading|![image12.gif](/images/90ebe675af919b/image12.gif =200x)|
|bottomTrailing|![image13.gif](/images/90ebe675af919b/image13.gif =200x)|
|center|![image14.gif](/images/90ebe675af919b/image14.gif =200x)|
|leading|![image15.gif](/images/90ebe675af919b/image15.gif =200x)|
|trailing|![image16.gif](/images/90ebe675af919b/image16.gif =200x)|

## Toastè¡¨ç¤ºæ™‚ã®èƒŒæ™¯è‰²ã‚’å¤‰æ›´

`backdrop` ã« `Color` ã‚’æŒ‡å®šã™ã‚‹äº‹ã§èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

```swift
    private let toastOptions = SimpleToastOptions(
        alignment: .bottom,
        hideAfter: 3,
        backdrop: Color.red // è¿½åŠ 
    )
```

Previewç¢ºèªã™ã‚‹ã¨èƒŒæ™¯è‰²ãŒèµ¤è‰²ã«ãªã£ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

![image17.gif](/images/90ebe675af919b/image17.gif =300x)

# ã¾ã¨ã‚

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒé«˜ãã€ç›´æ„Ÿçš„ã«å®Ÿè£…ã§ãã¦ã€ã™ãã«å°å…¥ã§ãã‚‹æ‰‹è»½ã•ã‚‚ç‰¹é•·ã‹ãªã¨æ€ã„ã¾ã—ãŸï¼ ã¾ãŸã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„è¡¨ç¤ºä½ç½®ã®å¤‰æ›´ã‚‚ç°¡å˜ã«ã§ãã‚‹ã®ã‚‚è‰¯ã•ãã†ã§ã™ï¼
