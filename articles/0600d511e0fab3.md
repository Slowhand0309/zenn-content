---
title: "ã€SwiftUIã€‘Chartãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ¯”è¼ƒ"
emoji: "ğŸˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---
# æ¦‚è¦

iOSã§Chartè¡¨ç¤ºã‚’è¡Œã†éš›ã«è‰¯ã•ãã†ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãªã„ã‹æ¢ã—ãŸéš›ã®ãƒ¡ãƒ¢ã«ãªã‚Šã¾ã™ã€‚

æœ€çµ‚çš„ã« `Charts` ã¨ `SwiftUICharts` ã®æ¯”è¼ƒã—ãŸå†…å®¹ã«ãªã‚Šã¾ã—ãŸãŒã€ä½•ã‹ã®å‚è€ƒã«ãªã‚Œã°ã¨æ€ã„ã¾ã™ã€‚

## ç¢ºèªç’°å¢ƒ

```
XCode: v14.3

$ sw_vers
ProductName:		macOS
ProductVersion:		13.4.1
ProductVersionExtra:	(c)
BuildVersion:		22F770820d
```

# 1. æ¨™æº–ã®Chart SwiftUI View

[Chart | Apple Developer Documentation](https://developer.apple.com/documentation/charts/chart)

å‚è€ƒURL

[https://sean-coughlin.medium.com/creating-amazing-ios-charts-with-swiftui-2a17b9982928](https://sean-coughlin.medium.com/creating-amazing-ios-charts-with-swiftui-2a17b9982928)

SwiftUIã§ç´”æ­£ã®ChartãŒæ‰±ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã¿ãŸã„ã§ã™ãŒã€iOS16ä»¥é™ã¨ã®äº‹ã§ã€ä»Šå›ã®èª¿æŸ»ã§ã¯iOS16æœªæº€ã‚‚å¯¾è±¡ã«ã—ã¦ãŸã®ã§ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã¾ã™ã€‚ã„ãšã‚Œã¯è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

# 2. [Charts](https://github.com/danielgindi/Charts)

## æ¦‚è¦

MPAndroidChartã®Swiftå®Ÿè£…ç‰ˆã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯Androidç‰ˆã®ã‚‚ã®ã‚’å‚ç…§ã¨ã®äº‹ã§ã—ãŸã€‚

[MPAndroidChart Documentation - Weeklycoding](https://weeklycoding.com/mpandroidchart-documentation/)

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (SPM)

æ—©é€Ÿè©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚`Package.swift` ã«ä»¥ä¸‹è¿½åŠ 

```swift
dependencies: [
    .package(url: "https://github.com/danielgindi/Charts.git", .upToNextMajor(from: "5.0.0"))
],
targets: [
    .target(
        name: "...",
        dependencies: [
            .product(name: "DGCharts", package: "Charts")
        ]),
]
```

â€» 5.0ã‹ã‚‰Swift Chart ã¨ã®ç«¶åˆã‚’é¿ã‘ã‚‹ãŸã‚ `DGCharts` ã¨ã„ã†åå‰ã«ãªã£ãŸã‚‰ã—ã„ã§ã™

## ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£… (BarChart)

SwiftUIã®å ´åˆ [UIViewRepresentable](https://developer.apple.com/documentation/swiftui/uiviewrepresentable) ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```swift
import DGCharts
import SwiftUI

struct SampleBarChartView: UIViewRepresentable {
    func makeUIView(context: Context) -> BarChartView {
        return BarChartView()
    }

    func updateUIView(_ uiView: BarChartView, context: Context) {
        let dataSet = BarChartDataSet(entries: [
            BarChartDataEntry(x: 1, y: 10),
            BarChartDataEntry(x: 2, y: 20),
            BarChartDataEntry(x: 3, y: 30)
        ])
        uiView.data = BarChartData(dataSet: dataSet)
    }
}

struct DGCharts: View {
    var body: some View {
        SampleBarChartView()
    }
}

struct DGCharts_Previews: PreviewProvider {
    static var previews: some View {
        DGCharts()
    }
}
```

â†“ Previewçµæœ

![image1.png](/images/0600d511e0fab3/image1.png)

æ¬¡ã«ãƒ‡ãƒ¼ã‚¿ç”¨ã®structã‚’ç”¨æ„ã—ã¦å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

`struct SampleData` ã‚’è¿½åŠ ã—ã€å‚ç…§ã™ã‚‹æ§˜ã«ä¿®æ­£ã—ã¾ã™ã€‚

```swift
struct SampleData {
    var year: Int
    var month: Double
    var value: Double

    static func dataEntities() -> [BarChartDataEntry] {
        return allData.map { BarChartDataEntry(x: $0.month, y: $0.value) }
    }

    static var allData: [SampleData] =
        [
            SampleData(year: 2019, month: 0, value: 86),
            SampleData(year: 2019, month: 1, value: 15),
            SampleData(year: 2019, month: 2, value: 50),
            SampleData(year: 2019, month: 3, value: 62),
            SampleData(year: 2019, month: 4, value: 20),
            SampleData(year: 2019, month: 5, value: 19),
            SampleData(year: 2019, month: 6, value: 71),
            SampleData(year: 2019, month: 7, value: 52),
            SampleData(year: 2019, month: 8, value: 33),
            SampleData(year: 2019, month: 9, value: 75),
            SampleData(year: 2019, month: 10, value: 20),
            SampleData(year: 2019, month: 11, value: 90)
        ]
}

struct SampleBarChartView: UIViewRepresentable {
    func makeUIView(context: Context) -> BarChartView {
        return BarChartView()
    }

    func updateUIView(_ uiView: BarChartView, context: Context) {
        let dataSet = BarChartDataSet(entries: SampleData.dataEntities())
        uiView.data = BarChartData(dataSet: dataSet)
    }
}
```

â†“Previewå†…å®¹ æ¯”è¼ƒçš„ç°¡å˜ã«è¡¨ç¤ºã§ãã¾ã—ãŸã€‚

![image2.png](/images/0600d511e0fab3/image2.png)

## LineChart

æ¬¡ã«ã‚·ãƒ³ãƒ—ãƒ«ãªLineChartã‚’è¡¨ç¤ºã•ã›ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

```swift
import DGCharts
import SwiftUI

struct SimpleLineChartView: UIViewRepresentable {
    func makeUIView(context: Context) -> LineChartView {
        return LineChartView()
    }

    func updateUIView(_ uiView: LineChartView, context: Context) {
        let dataSet = LineChartDataSet(entries: [
            ChartDataEntry(x: 1.0, y: 1.0),
            ChartDataEntry(x: 2.0, y: 1.5),
            ChartDataEntry(x: 3.0, y: 2.0),
        ])
        uiView.data = LineChartData(dataSet: dataSet)
    }
}

struct DGChartsLineChartSimple: View {
    var body: some View {
        SimpleLineChartView()
    }
}

struct DGChartsLineChartSimple_Previews: PreviewProvider {
    static var previews: some View {
        DGChartsLineChartSimple()
    }
}
```

â†“Previewã®æ§˜å­

![image3.png](/images/0600d511e0fab3/image3.png)

### ç·šã®è‰²ã‚’å¤‰ãˆã‚‹

æ¬¡ã«ç·šã®è‰²ã‚’å¤‰ãˆã¦ã¿ã¾ã™ã€‚

```swift
dataSet.setColor(.black)
dataSet.setCircleColor(.black) // ãƒ”ãƒœãƒƒãƒˆã®ä¸¸ã®è‰²ã‚‚å¤‰ãˆãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚‚è¨­å®š
```

![image4.png](/images/0600d511e0fab3/image4.png)

### ç·šã®å¹…ã‚’å¤‰ãˆã‚‹

æ¬¡ã«ç·šã®å¹…ã‚’å¤‰ãˆã¦ã¿ã¾ã™ã€‚

```swift
dataSet.lineWidth = 10
dataSet.circleRadius = 20 // ãƒ”ãƒœãƒƒãƒˆã®ä¸¸ã®å¤§ãã•ã‚‚å¤‰ãˆãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚‚è¨­å®š
```

![image5.png](/images/0600d511e0fab3/image5.png)

## å‚è€ƒURL

[https://youtu.be/csd7pyfEXgw?si=0Qf3vaoXeXr6-kAx](https://youtu.be/csd7pyfEXgw?si=0Qf3vaoXeXr6-kAx)

[https://github.com/StewartLynch/Charts-BarChart-Complete](https://github.com/StewartLynch/Charts-BarChart-Complete)

[UIViewRepresentable ã‚’ç†è§£ã—ã¦ SwiftUI ã®è¶³ã‚Šãªã„ã¨ã“ã‚ã‚’ UIKit ã§è£œã† - Qiita](https://qiita.com/maiyama18/items/e36608af7e39f81af01c)

## ãƒãƒƒãƒ‰ãƒã‚¦ãƒã‚¦

ãƒ“ãƒ«ãƒ‰æ™‚ã«ä»¥ä¸‹ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

```
The package product 'DGCharts' requires minimum platform version 12.0 for the iOS platform, but this target supports 11.0
```

- `Package.swift` ã«ä»¥ä¸‹ã‚’è¿½åŠ ã™ã‚‹
    
    ```swift
    platforms: [
            .iOS(.v12),
        ],
    ```
    

## æ„Ÿæƒ³

- å°å…¥ã—ã‚„ã™ãã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã‚‚ã‚ã‚Šãã†ãªå°è±¡
- ä¸€ç•ªã‚¹ã‚¿ãƒ¼æ•°ãŒå¤šãã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚‚ç¶šã„ã¦ã„ã‚‹
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚è±Šå¯Œ

# 2. [SwiftUICharts](https://github.com/mecid/SwiftUICharts)

## æ¦‚è¦

> SwiftUI ã‚’ä½¿ã£ã¦æ›¸ã‹ã‚ŒãŸã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã¨æ£’ã‚°ãƒ©ãƒ•ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
> 

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (SPM)

`Package.swift` ã«ä»¥ä¸‹è¿½åŠ ã—ã¾ã™ã€‚

```swift
platforms: [
        .macOS(.v11),
        .iOS(.v14)
],
dependencies: [
    .package(url: "https://github.com/mecid/SwiftUICharts", branch: "main")
],
targets: [
    .target(
        name: "...",
        dependencies: [
            .product(name: "SwiftUICharts", package: "SwiftUICharts")
        ]),
]
```

## ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£… (BarChart)

```swift
import SwiftUI
import SwiftUICharts

let highIntensity = Legend(color: .orange, label: "High Intensity", order: 5)
let buildFitness = Legend(color: .yellow, label: "Build Fitness", order: 4)
let fatBurning = Legend(color: .green, label: "Fat Burning", order: 3)
let warmUp = Legend(color: .blue, label: "Warm Up", order: 2)
let low = Legend(color: .gray, label: "Low", order: 1)

let limit = DataPoint(value: 130, label: "5", legend: fatBurning)

let points: [DataPoint] = [
    .init(value: 70, label: "1", legend: low),
    .init(value: 90, label: "2", legend: warmUp),
    .init(value: 91, label: "3", legend: warmUp),
    .init(value: 92, label: "4", legend: warmUp),
    .init(value: 130, label: "5", legend: fatBurning),
    .init(value: 124, label: "6", legend: fatBurning),
    .init(value: 135, label: "7", legend: fatBurning),
    .init(value: 133, label: "8", legend: fatBurning),
    .init(value: 136, label: "9", legend: fatBurning),
    .init(value: 138, label: "10", legend: fatBurning),
    .init(value: 150, label: "11", legend: buildFitness),
    .init(value: 151, label: "12", legend: buildFitness),
    .init(value: 150, label: "13", legend: buildFitness),
    .init(value: 136, label: "14", legend: fatBurning),
    .init(value: 135, label: "15", legend: fatBurning),
    .init(value: 130, label: "16", legend: fatBurning),
    .init(value: 130, label: "17", legend: fatBurning),
    .init(value: 150, label: "18", legend: buildFitness),
    .init(value: 151, label: "19", legend: buildFitness),
    .init(value: 150, label: "20", legend: buildFitness),
    .init(value: 160, label: "21", legend: highIntensity),
    .init(value: 159, label: "22", legend: highIntensity),
    .init(value: 161, label: "23", legend: highIntensity),
    .init(value: 158, label: "24", legend: highIntensity)
]

struct SwiftUIChartsBarChartSimple: View {
    var body: some View {
        BarChartView(dataPoints: points, limit: limit)
    }
}

struct SwiftUIChartsBarChartSimple_Previews: PreviewProvider {
    static var previews: some View {
        SwiftUIChartsBarChartSimple()
    }
}
```

â†“Previewçµæœ

![image6.png](/images/0600d511e0fab3/image6.png)

## Chartã®Styleèª¿æ•´

`chartStyle` ã‚’ä½¿ã£ã¦Styleã‚’æŒ‡å®šã—ã¦ã„ãã¾ã™ã€‚å†…éƒ¨ã§ã¯[ã“ã¡ã‚‰](https://github.com/mecid/SwiftUICharts/blob/1d55ace019a66c50e06412ceda993a856b9bee61/Sources/SwiftUICharts/Model/ChartStyle.swift#L26-L30)ã§ `environment` ã¨ã—ã¦è¨­å®šã—ã¦ã„ã¾ã™ã€‚

```swift
extension View {
    public func chartStyle(_ style: ChartStyle) -> some View {
        environment(\.chartStyle, style)
    }
}
```

è©¦ã—ã«ä»¥ä¸‹ã® `chartStyle` ã‚’è¨­å®šã—ã¾ã™ã€‚

```swift
struct SwiftUIChartsBarChartSimple: View {
    var body: some View {
        BarChartView(dataPoints: points, limit: limit)
            .chartStyle(
                BarChartStyle(
                    barMinHeight: 100,
                    showAxis: true,
                    axisLeadingPadding: 10,
                    showLabels: true,
                    labelCount: 20,
                    showLegends: false
                )
            )
    }
}
```

â†“Previewçµæœ

![image7.png](/images/0600d511e0fab3/image7.png)

## æ„Ÿæƒ³

- æ¯”è¼ƒçš„æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§SwiftUIã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ZoomãŒã§ããªã„
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ç„¶ãªã„
- DGChartsã‚ˆã‚Šã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒç„¡ã„ã‚¤ãƒ¡ãƒ¼ã‚¸

# ãã®ä»–

ä»Šå›ã¯è¦‹é€ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãªã‚Šã¾ã™ã€‚

[https://github.com/AppPear/ChartView](https://github.com/AppPear/ChartView)

[https://github.com/dagronf/DSFSparkline](https://github.com/dagronf/DSFSparkline)

[https://github.com/aunnnn/RHLinePlot](https://github.com/aunnnn/RHLinePlot)

[https://github.com/spacenation/swiftui-charts](https://github.com/spacenation/swiftui-charts)

# å‚è€ƒURL

[GitHub - Toni77777/awesome-swiftui-libraries: :rocket: Awesome SwiftUI Libraries](https://github.com/Toni77777/awesome-swiftui-libraries#Chart)