---
title: "è¦‹ãŸç›®ã‚’å°‘ã—ãƒªãƒƒãƒã«ã™ã‚‹flutter_floating_bottom_barã‚’è©¦ã™"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:
  - "flutter"
  - "dart"
  - "ui"
  - "ios"
  - "android"
published: true
---
# æ¦‚è¦

è¦‹ãŸç›®ã‚’ãƒªãƒƒãƒã«ã™ã‚‹é¢ç™½ãã†ãªPackageã‚’è¦‹ã¤ã‘ãŸã®ã§ã€è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚

## flutter_floating_bottom_barã¨ã¯?

https://pub.dev/packages/flutter_floating_bottom_bar

> ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’è¡¨ç¤ºã§ãã‚‹Flutterãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚ã‚¿ãƒ–ãƒãƒ¼ã‚„ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ãªã©ã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚‚åå¿œã—ã¾ã™ã€‚

# å‹•ä½œç’°å¢ƒ

```text
MBA M3 Sequoia 15.6.1
flutter 3.35.1
iOSã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ iOS 18.1
Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ API 34
```

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

`flutter pub add flutter_floating_bottom_bar` ã‚’å®Ÿè¡Œã™ã‚‹ã‹ `pubspec.yaml` ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```yaml
dependencies:
  flutter_floating_bottom_bar: ^1.3.0
```

# ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…

flutter_floating_bottom_barã§ã¯ [**BottomBar**](https://pub.dev/documentation/flutter_floating_bottom_bar/latest/flutter_floating_bottom_bar/BottomBar-class.html) ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ä½¿ã£ã¦ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ã¾ãšã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¼‰ã£ã¦ã„ã‚‹ListViewã®ä¸‹éƒ¨ã«ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

```dart
class FlutterFloatingBottomBarScreen extends StatelessWidget {
  const FlutterFloatingBottomBarScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.cyan,
      appBar: AppBar(
        leading: IconButton(
          icon: Icon(Icons.arrow_back, color: Colors.white),
          onPressed: () => Navigator.of(context).pop(),
        ),
        title: const Text(
          'Flutter Floating Bottom Bar',
          style: TextStyle(color: Colors.white, fontWeight: FontWeight.bold),
        ),
        backgroundColor: Colors.cyan,
      ),
      body: BottomBar(
        child: Padding(
          padding: const EdgeInsets.all(16.0),
          child: Text(
            "This is the floating widget",
            textAlign: TextAlign.center,
            style: TextStyle(color: Colors.white),
          ),
        ),
        body: (context, controller) => ListView.builder(
          controller: controller,
          itemBuilder: (context, index) {
            return ListTile(
              onTap: () {},
              tileColor: Colors.cyan,
              title: Text("$index"),
            );
          },
      ),
    );
  }
}
```

å®Ÿè¡Œçµæœ ğŸ‘‡

![image1.gif](/images/c46f39d813cf10/image1.gif =300x)

ä¸‹éƒ¨ã«ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒè¡¨ç¤ºã•ã‚Œã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã‚Œã‚‹ã¨éè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚ã“ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å…ƒã« [**BottomBar**](https://pub.dev/documentation/flutter_floating_bottom_bar/latest/flutter_floating_bottom_bar/BottomBar-class.html) ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®æ²¢å±±ã‚ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å†…ä½¿ã„ãã†ãªã‚‚ã®ã‚’è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

### barColor

BottomBarã®è‰²ã‚’æŒ‡å®šã—ã¾ã™ã€‚

```dart
barColor: Colors.deepPurpleAccent, // default: Colors.black
```

![image2.png](/images/c46f39d813cf10/image2.png)

### Icon

ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ã¾ã™ã€‚

```dart
icon: (width, height) =>
    Center(child: Icon(Icons.arrow_circle_up, color: Colors.red)),
```

![image3.png](/images/c46f39d813cf10/image3.png)

### showIcon

ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’è¨­å®šã—ã¾ã™ã€‚

```dart
showIcon: false, // default: true
```

![image4.gif](/images/c46f39d813cf10/image4.gif)

### duration

SlideTransitionã®æ™‚é–“

```dart
duration: Duration(milliseconds: 3000), // default: Duration(milliseconds: 120)
```

![image5.gif](/images/c46f39d813cf10/image5.gif)

### offset

ãƒãƒ¼ã®å…¨è¾ºã‹ã‚‰ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°/ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼ˆdoubleå‹ï¼‰ã€‚

```dart
offset: 100,
```

![image6.png](/images/c46f39d813cf10/image6.png)

### curve

SlideTransitionã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ–ã€‚

```dart
curve: Curves.decelerate, // default: Curves.linear
duration: Duration(milliseconds: 1000), // åˆ†ã‹ã‚Šã‚„ã™ã„æ§˜ã«1ç§’ã«è¨­å®š
```

![image7.gif](/images/c46f39d813cf10/image7.gif)

### hideOnScroll

ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§æ¶ˆãˆãŸã‚Šã€æ¶ˆãˆãªã„ã‚ˆã†ã«ã™ã‚‹è¨­å®šã€‚

```dart
hideOnScroll: false, // default: true
```

![image8.gif](/images/c46f39d813cf10/image8.gif)

# BottomBar + TabBarå®Ÿè£…

æ¬¡ã« [TabBar](https://api.flutter.dev/flutter/material/TabBar-class.html) ã¨åˆã‚ã›ã¦ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚TabBarã‚’ä½¿ã†ã«ã‚ãŸã£ã¦ä»Šå› TabController ã‚„ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹ã®ã« **flutter_hooks** ã‚’ä½¿ã„ã¾ã™ã€‚

`flutter pub add flutter_hooks` ã‚’å®Ÿè¡Œã™ã‚‹ã‹ `pubspec.yaml` ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```yaml
dependencies:
  flutter_hooks: ^0.21.3+1
```

æº–å‚™ãŒã§ããŸã®ã§å…ˆã»ã©ã®ç”»é¢ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚

```dart
class FlutterFloatingBottomBarScreen extends HookWidget {
  const FlutterFloatingBottomBarScreen({super.key});

  @override
  Widget build(BuildContext context) {
    final currentPage = useState(0);
    final tabController = useTabController(initialLength: 3);
    useEffect(() {
      tabController.animation?.addListener(() {
        final value = tabController.animation!.value.round();
        if (value != currentPage.value) {
          currentPage.value = value;
        }
      });
      return null;
    }, [tabController]);
    final List<Color> colors = [Colors.yellow, Colors.red, Colors.green];

    return Scaffold(
      backgroundColor: Colors.cyan,
      appBar: AppBar(
        leading: IconButton(
          icon: Icon(Icons.arrow_back, color: Colors.white),
          onPressed: () => Navigator.of(context).pop(),
        ),
        title: const Text(
          'Flutter Floating Bottom Bar',
          style: TextStyle(color: Colors.white, fontWeight: FontWeight.bold),
        ),
        backgroundColor: Colors.cyan,
      ),
      body: BottomBar(
        body: (context, controller) => TabBarView(
          controller: tabController,
          dragStartBehavior: DragStartBehavior.down,
          physics: const BouncingScrollPhysics(),
          children: colors
              .map(
                (e) => ListView.builder(
                  controller: controller,
                  itemBuilder: (context, index) {
                    return ListTile(
                      onTap: () {},
                      tileColor: e,
                      title: Text("$index"),
                    );
                  },
                ),
              )
              .toList(),
        ),
        child: TabBar(
          dividerColor: Colors.transparent,
          overlayColor: WidgetStateProperty.all(Colors.transparent),
          indicatorPadding: const EdgeInsets.fromLTRB(6, 0, 6, 0),
          controller: tabController,
          indicator: UnderlineTabIndicator(
            borderSide: BorderSide(
              color: currentPage.value <= 2
                  ? colors[currentPage.value]
                  : Colors.white,
              width: 4,
            ),
            insets: EdgeInsets.fromLTRB(16, 0, 16, 8),
          ),
          tabs: [
            SizedBox(
              height: 55,
              width: 40,
              child: Center(
                child: Icon(
                  Icons.home,
                  color: currentPage.value == 0 ? colors[0] : Colors.white,
                ),
              ),
            ),
            SizedBox(
              height: 55,
              width: 40,
              child: Center(
                child: Icon(
                  Icons.search,
                  color: currentPage.value == 1 ? colors[1] : Colors.white,
                ),
              ),
            ),
            SizedBox(
              height: 55,
              width: 40,
              child: Center(
                child: Icon(
                  Icons.add,
                  color: currentPage.value == 2 ? colors[2] : Colors.white,
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚Šã¾ã™ğŸ‘‡

![image9.gif](/images/c46f39d813cf10/image9.gif =300x)

è¤‡æ•°ã‚¿ãƒ–ã§ãƒªã‚¹ãƒˆè¡¨ç¤ºãŒæ²¢å±±ã‚ã‚‹ã‚ˆã†ãªå ´åˆã ã¨ã€éš ã‚Œã¦ãã‚Œã‚‹ã®ã§ç”»é¢ãŒè¦‹ã‚„ã™ããªã£ã¦ã„ã„ã‹ã‚‚ã§ã™ã­ âœ¨