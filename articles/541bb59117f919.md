---
title: "ReactNativeåŸºç¤ä¸­ã®åŸºç¤ã‚’ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã—ã¦å‹•ã‹ã™ã¾ã§"
emoji: "ğŸš€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:
  - "reactnative"
  - "expo"
  - "typescript"
  - "android"
  - "ios"
published: true
---
# æ¦‚è¦

ä»Šå›ã¯React Native ã®åŸºç¤ä¸­ã®åŸºç¤ã‚’å­¦ã³ãªãŒã‚‰ã€ã²ã¨ã¾ãšä½•ã‹å‹•ã‹ã™ã¨ã“ã‚ã¾ã§ã‚’è©¦ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

https://reactnative.dev/docs/getting-started

ğŸ‘†ã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

## [**ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**](https://reactnative.dev/docs/intro-react-native-components)

- **ãƒã‚¤ãƒ†ã‚£ãƒ– ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
  - Android ãŠã‚ˆã³ iOS ã¨åŒã˜ãƒ“ãƒ¥ãƒ¼ã«åŸºã¥ã„ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ã‚«ã‚¹ã‚¿ãƒ ã—ã¦ä½œã‚‹ã“ã¨ã‚‚å¯èƒ½
  - ä¾‹ãˆã° `<View>` ã¯ Androidã ã¨ `<ViewGroup>` iOSã ã¨ `<UIView>` ã«ãªã‚‹
    ![image1.png](/images/541bb59117f919/image1.png)

## Expoã«é–¢ã—ã¦

https://expo.dev/

> Expoã¯ã€React Nativeã®æ©Ÿèƒ½ã‚’æœ€å¤§é™ã«æ´»ã‹ã—ãªãŒã‚‰ã‚‚ã€ç’°å¢ƒæ§‹ç¯‰ã‚„å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã„ã£ãŸç…©é›‘ãªä½œæ¥­ã‚’å¤§å¹…ã«ç°¡ç•¥åŒ–ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™

## [é–‹ç™ºç’°å¢ƒè¨­å®š](https://reactnative.dev/docs/environment-setup)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ [Node.js](https://nodejs.org/en/) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ã«LTSã¨ã‚ã‚‹ã®ã§ã€LTSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã„ã¾ã™ã€‚ä»Šå›ã¯ [Volta](https://volta.sh/) ã‚’ä½¿ç”¨ã—ã¦Node.jsã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚

```bash
# æœ€æ–°ã®LTSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ã‚¹ãƒˆãƒ¼ãƒ«
$ volta list node
$ volta list node
âš¡ï¸ Node runtimes in your toolchain:

    v20.18.0
    v22.14.0 (default) # ç¾æ™‚ç‚¹ã§v22.14.0ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ
```

æ—©é€Ÿãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯ [template](https://docs.expo.dev/more/create-expo/#--template) ã« [blank-typescript](https://github.com/expo/expo/tree/main/templates/expo-template-blank-typescript) ã‚’æŒ‡å®šã— `react-native-example` ã¨ã„ã†åå‰ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚

```bash
$ npx create-expo-app@latest --template blank-typescript
Creating an Expo project using the blank-typescript template.

âœ” What is your app named? â€¦ react-native-example
âœ” Downloaded and extracted project files.
> npm install
...
âœ… Your project is ready!

To run your project, navigate to the directory and run one of the following npm commands.

- cd react-native-example
- npm run android
- npm run ios
- npm run web
```

ã“ã‚Œã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚

### Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§èµ·å‹•ã—ã¦ã¿ã‚‹

ã¾ãšã¯ğŸ‘‡ã‚’å‚è€ƒã« `ANDROID_HOME` ç­‰ã®ç’°å¢ƒå¤‰æ•°ã¨ã€Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®è¨­å®šã‚’è¡Œãªã£ã¦ãŠãã¾ã™ã€‚

https://docs.expo.dev/get-started/set-up-your-environment/?platform=android&device=simulated

æº–å‚™ãŒã§ããŸã‚‰ã€æ—©é€Ÿèµ·å‹•ã—ã¦ã¿ã¾ã™ã€‚

```bash
$ cd eact-native-example
$ npm run start
...
â€º Metro waiting on exp://192.168.1.37:8081
â€º Scan the QR code above with Expo Go (Android) or the Camera app (iOS)

â€º Using Expo Go
â€º Press s â”‚ switch to development build

â€º Press a â”‚ open Android
â€º Press i â”‚ open iOS simulator
â€º Press w â”‚ open web

â€º Press j â”‚ open debugger
â€º Press r â”‚ reload app
â€º Press m â”‚ toggle menu
â€º shift+m â”‚ more tools
â€º Press o â”‚ open project code in your editor

â€º Press ? â”‚ show all commands

Logs for your project will appear below. Press Ctrl+C to exit.
```

æ­£å¸¸ã«èµ·å‹•ã—ãŸã‚‰QRã‚³ãƒ¼ãƒ‰ã¨ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ `a` ã‚’æŠ¼ã—ã¦Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’èµ·å‹•ã—ã¾ã™ã€‚åˆå›æ™‚ã¯ `Expo Go` ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œ `App.tsx` ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚

![image2.png](/images/541bb59117f919/image2.png =300x)

ã¾ãŸã€è¤‡æ•°ã®Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‹ã‚‰èµ·å‹•ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’é¸æŠã™ã‚‹ã«ã¯ `Shift + a` ã§é¸æŠã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

![image3.gif](/images/541bb59117f919/image3.gif =300x)

### iOSã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ã§èµ·å‹•ã—ã¦ã¿ã‚‹

ğŸ‘‡ã“ã¡ã‚‰ã‚’å‚è€ƒã« **`Xcode`** ã¨ **`Command Line Tools`** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã€‚

https://docs.expo.dev/get-started/set-up-your-environment/?mode=expo-go&platform=ios&device=simulated

æ—©é€Ÿèµ·å‹•ã—ã€ä»Šåº¦ã¯  `i` ã‚’å…¥åŠ›ã—ã¦iOSã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ã‚’èµ·å‹•ã—ã¾ã™ã€‚

```bash
$ cd eact-native-example
$ npm run start
...
â€º Metro waiting on exp://192.168.1.37:8081
â€º Scan the QR code above with Expo Go (Android) or the Camera app (iOS)

â€º Using Expo Go
â€º Press s â”‚ switch to development build

â€º Press a â”‚ open Android
â€º Press i â”‚ open iOS simulator
â€º Press w â”‚ open web

â€º Press j â”‚ open debugger
â€º Press r â”‚ reload app
â€º Press m â”‚ toggle menu
â€º shift+m â”‚ more tools
â€º Press o â”‚ open project code in your editor

â€º Press ? â”‚ show all commands

Logs for your project will appear below. Press Ctrl+C to exit.
```

ã“ã¡ã‚‰ã‚‚Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿åŒæ§˜ `Shift + i` ã§è¤‡æ•°iOSã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ã‹ã‚‰èµ·å‹•ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’é¸æŠã§ãã¾ã™ã€‚

## ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…

ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ã§APIã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚’å–å¾—ã—ã€ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã¾ã§å®Ÿè£…ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã¾ãšã¯ã‚·ãƒ³ãƒ—ãƒ«ãªTextã®ã¿ã®ä¸€è¦§è¡¨ç¤ºã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚

`App.tsx` ã‚’ä»¥ä¸‹ã«ä¿®æ­£ã—ã¾ã™ã€‚

```tsx
import { useEffect, useState } from 'react';
import { ActivityIndicator, FlatList, Text, View } from 'react-native';

type User = {
  id: number;
  name: string;
  username: string;
  email: string;
};

export default function App() {
  const [isLoading, setIsLoading] = useState(true);
  const [users, setUsers] = useState<User[]>([]);

  const fetchUsers = async () => {
    try {
      const response = await fetch(
        'https://jsonplaceholder.typicode.com/users'
      );
      const json = await response.json();
      setUsers(json);
      setIsLoading(false);
    } catch (error) {
      console.error(error);
      setIsLoading(false);
    }
  };

  useEffect(() => {
    fetchUsers();
  }, []);

  return (
    <View style={{ padding: 20 }}>
      {isLoading ? (
        <ActivityIndicator />
      ) : (
        <FlatList
          data={users}
          keyExtractor={({ id }) => String(id)}
          renderItem={({ item }) => (
            <Text>
              {item.id}, {item.name}, {item.username}, {item.email}
            </Text>
          )}
        />
      )}
    </View>
  );
}
```

ã‚„ã£ã¦ã„ã‚‹äº‹ã¨ã—ã¦ã¯åˆå›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã« `useEffect` å†…ã§ `fetchUsers` ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚’å–å¾—ã—ã€å–å¾—ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ `FlatList` ã¨ã„ã†Componentã§è¡¨ç¤ºã•ã›ã¦ã„ã¾ã™ã€‚

ğŸ‘‡å®Ÿè¡ŒçµæœãŒã“ã¡ã‚‰

![image4.png](/images/541bb59117f919/image4.png =300x)

# ãƒãƒƒãƒ‰ãƒã‚¦ãƒã‚¦

Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å®Ÿè¡Œæ™‚ã«ä»¥ä¸‹ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚

```text
ã€ŒFailed to resolve the Android SDK path. Default install location not found: /Users/xxxxxx/Library/Android/sdk. Use ANDROID_HOME to set the Android SDK location.ã€
```

ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹

```bash
export ANDROID_HOME=${HOME}/Android/Sdk # è‡ªèº«ã®ç’°å¢ƒã«å¿œã˜ã¦è¨­å®š
export PATH=${ANDROID_HOME}/tools:${PATH}
export PATH=${ANDROID_HOME}/emulator:${PATH}
export PATH=${ANDROID_HOME}/platform-tools:${PATH}
```

https://naftalimurgor.com/posts/how-to-fix-failed-to-resolve-the-android-sdk-path/
